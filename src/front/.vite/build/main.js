"use strict";const o=require("electron"),n=require("path"),s=require("better-sqlite3");function i(){const e=s(n.join(__dirname,"../db","database.db"),{verbose:console.log,fileMustExist:!0});return e.pragma("foreign_keys = ON"),e}function a(){const e=i(),r=e.prepare("SELECT * FROM users").all();return e.close(),r}require("electron-squirrel-startup")&&o.app.quit();const t=()=>{const e=new o.BrowserWindow({width:800,height:600,webPreferences:{preload:n.join(__dirname,"preload.js")}});e.loadURL("http://localhost:5173"),console.log(123),a(),e.webContents.openDevTools()};o.app.on("ready",t);o.app.on("window-all-closed",()=>{process.platform!=="darwin"&&o.app.quit()});o.app.on("activate",()=>{o.BrowserWindow.getAllWindows().length===0&&t()});
